<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Test ascensor</title>
		<meta name="viewport" content="user-scalable=0,width=device-width,initial-scale=1,maximum-scale=1">
		<link rel="stylesheet" href="css/normalize.css">
		<link rel="stylesheet" type="text/css" href="css/marvelcolors-main.css" />
		<style>
		.floor .text {color: white;font-weight: 500;text-align: center;position: absolute;top: 50%;left: 50%;-moz-transform: translateX(-50%) translateY(-50%);-webkit-transform: translateX(-50%) translateY(-50%);transform: translateX(-50%) translateY(-50%);}
		.floor-1{background: #fff;}.floor-2{background: #fff;}.floor-3{background: #fff;}
		.floor-4{background: #EB5D45;}
		.floor-5{background: #4AAEB6;}
		.floor-6{background: #E7DFBF;}
		.floor-7{background: #CA9E67;}
		.floor-8{background: #4fade3;}
		ul {list-style: none;}
		#main li a {padding: 3px 6px; display: inline-block;background: #eee;border-radius:3px;margin-bottom:2px;color: #777;}
		#main li a:hover{cursor:pointer; background:#fefefe;}
		#main .links-to-floor{position: absolute;top: 20px;left: 20px;}
		.direction-links li a{border-radius: 0;}
		#main li.selected a{color: white;background:#4fade3;}
		#main li.selected a:hover{color: white;background:#4fade3;}
		</style>
	</head>
	<body>

		<div id="ascensorBuilding">
			<!--HOME-->
			<div class="floor floor-1">
				<div class="direction-links">
					<div id="formeleft" class="direction left" data-direction="left"><p id="cbs-sub" class="subtitle">Discover the most used colors on covers by series</p></div>
					<div id="formeright" class="direction right" data-direction="right"><p id="cbsea-sub" class="subtitle">Discover the most used colors on covers by seasons</p></div>
					<div id="formebottom" class="direction down" data-direction="down"><p id="cbh-sub" class="subtitle">Discover the most used colors on covers</p></div>
					<div id="left" class="icone_dir text direction left" data-direction="left"></div>
					<div id="right" class="icone_dir text direction right" data-direction="right"></div>
					<div id="bas" class="icone_dir text direction down" data-direction="down"></div>
				</div>
				<span class="text">
			        <h1 id="derriere" >MARVEL<br />COLORS</h1>
			        <h1 id="devant">MARVEL<br />COLORS</h1>
				</span>
				<span class="text catchphrase">
			        <h2>Visualize 15 years of Marvel covers through their colors</h2>
				</span>
			    <span id="mother_modal">
			    	<h2><button class="md-trigger help" data-modal="modal-11">Help</button><button class="md-trigger about" data-modal="modal-12">About</button></h2>
			    </span>
			    <div class="cover"></div>
				<h1 id="cbs" class="text title">COLORS<br />BY SERIES</h1>
				<h1 id="cbsea" class="text title">COLORS<br />BY SEASONS</h1>
				<h1 id="cbh" class="text title">COLORS<br />BY HUES</h1>
									<!-- TEST MODAL-->
					<div class="md-modal md-effect-12" id="modal-11">
	            		<div class="md-content">
				            <button class="md-close">Close</button>
				            <button class="titre-page">Help</button>
				            <div class="container" id="modal-11-content">
				                <div class="two-thirds column">  
				                	<h2>HELP</h2>
				                   	 <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. </p>
	               			    </div>
	            			</div>  
	          			</div>
        			</div>
			        <div class="md-modal md-effect-12" id="modal-12">
			          <div class="md-content">
			            <button class="md-close">Close</button>
			            <button class="titre-page">About</button>
			            <div class="container" id="modal-12-content">
			              <div class="seven columns">  
			                <h2>THE PROJECT</h2>
			                    <p>Marvel Colors is a data-visualization project divided into three sections in which the visitor playfully explores data about colors of Marvel comics covers.</p>
			                    <p>This project was carried out by three Marvel comics fans for the Information Design course in the final year of their master’s degree in Interface Design at Paris XIII university.</p>
			                    <h2>DATA</h2>
			                    <p>Marvel Colors focuses on a selection of Marvel comics.</p>
			                    <p>Release dates : 2000 to 2015<br />Series : Black Panther, Captain America, Captain Marvel, Civil Wars, Iron Man, Thor, Ant-Man, Avengers, Hulk, Doctor Strange, Guardians of the Galaxy, Inhumans</p>
			                    <h2>DATA SOURCE</h2>
			                    <p><a href="http://marvel.com/comics/series">http://marvel.com/comics/series</a><br /><a href="http://marvel.wikia.com/Contents">http://marvel.wikia.com/Contents</a><br /><a href="http://www.comicvine.com">http://www.comicvine.com</a></p>
			              </div>
			              <div class="five columns">  
			                    <h2>THE TEAM</h2>
			                    <p>Claire Blumenfeld | Web design<br />Ingrid Lenoir | Data Processing<br />Claire Mauchin | Development</p>
			                    <!--<h2>HOW DOES IT WORK ?</h2>
			                    <p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. </p>-->
			                    <h2>MANY THANKS TO</h2>
			                    <p>Mr Daniele Guido, Mr Everardo Reyes and our friends Yannick Houssin &amp; Lucas Turuani for their help and their patience.</p>
			                    <p>We couldn't have finished this without you.</p>
			                    <h2>SHARE THE MARVEL LOVE</h2>
			                    <a href="#" class="share facebook">Facebook</a>
			                    <a href="#" class="share twitter">Twitter</a>
			              </div>
			            </div>  
			          </div>
			        </div>
			        <div class="md-overlay"></div><!-- the overlay element -->
			</div>
			<!--COLORS BY SERIES-->
			<div class="floor floor-2">
				<ul class="links-to-floor">
					<li id="right" class="icone_dir text"><a></a></li>
				</ul>
				<div id="colorsbyseries" ></div>
			</div>
			<!--COLORS BY SEASONS-->
			<div class="floor floor-3">
				<ul class="links-to-floor">
					<li id="left" class="icone_dir text"><a></a></li>
				</ul>
				<div id="output1">
					<span classe="infoseasons"></span>
				</div>
				<div id="output2">
					<span classe="infoseasons"></span>
				</div>
				<div id="output3">
					<span classe="infoseasons"></span>					
				</div>
				<div id="output4">
					<span classe="infoseasons"></span>					
				</div>
			</div>
			<!--MOST USED COLORS-->
			<div class="floor floor-4">
				<span class="text">Most used color 1</span>
				<ul class="links-to-floor">
					<li id="top" class="icone_dir text"><a></a></li>
				</ul>
				<ul class="prev-next-links">
					<li id="bas" class="icone_dir text next" ><a></a></li>
				</ul>
			</div>
			<div class="floor floor-5">
				<span class="text">Most used color 2</span>
				<ul class="prev-next-links">
					<li id="top" class="icone_dir text prev"><a></a></li>
					<li id="bas" class="icone_dir text next" ><a></a></li>
				</ul>
			</div>
			<div class="floor floor-6">
				<span class="text">Most used color 3</span>
				<ul class="prev-next-links">
					<li id="top" class="icone_dir text prev"><a></a></li>
					<li id="bas" class="icone_dir text next" ><a></a></li>
				</ul>
			</div>
			<div class="floor floor-7">
				<span class="text">Most used color 4</span>
				<ul class="prev-next-links">
					<li id="top" class="icone_dir text prev"><a></a></li>
				</ul>				
				<ul class="links-to-floor">
					<li id="up" class="icone_dir text"><a></a></li>
				</ul>
			</div>
		</div>
		<!--MENU PAR DEFAUT *pas intéressant pour l'instant*-->
		<!--<nav>
			<ul id="main" class="links-to-floor">
				<li id="first"><a>Home</a></li>
				<li id="second"><a>Series</a></li>
				<li id="third"><a>Seasons</a></li>
				<li id="fourth"><a>Main Color 1</a></li>
				<li id="fifth"><a>Main Color 2</a></li>
				<li id="six"><a>Main Color 3</a></li>
				<li id="seventh"><a>Main Color 4</a></li>
			</ul>
		</nav>-->
		<script src="http://code.jquery.com/jquery-2.0.3.min.js"></script>
		<script src="js/classie.js"></script>
        <script src="js/modalEffects.js"></script>
		<!-- NAVIGATION-->
		<script src="dist/jquery.ascensor.js"></script>
		<script>
			var ascensor = $('#ascensorBuilding').ascensor({ascensorFloorName:["Home", "Series", "Seasons" , "maincolor1" , "maincolor2", "maincolor3", "maincolor4"], direction: [[0,1],[0,0],[0,2],[1,1],[2,1],[3,1],[4,1],[5,1]]});
			var ascensorInstance = $('#ascensorBuilding').data('ascensor');
				
			$(".links-to-floor li").click(function(event, index) {
				ascensorInstance.scrollToFloor($(this).index());
			});

			$("#main .links-to-floor li:eq("+ ascensor.data("current-floor") +")").addClass("selected");

			ascensor.on("scrollStart", function(event, floor){
				$("#main .links-to-floor li").removeClass("selected");
				$("#main .links-to-floor li:eq("+floor.to+")").addClass("selected");
			});

			$(".prev").click(function() {
				ascensorInstance.prev();
			});
				
			$(".next").click(function() {
				ascensorInstance.next();
			});
				
			$(".direction").click(function() {
				ascensorInstance.scrollToDirection($(this).data("direction"));
			});	
		</script>
		<!--SHOW MENU ON HOVERS-->
		<script type="text/javascript">
			$(document).ready(function() {
			    $("#formeleft").hover(function () {
			        $("#cbs, #cbs-sub, .cover").toggle();
			    });
			})

			$(document).ready(function() {
			    $("#formeright").hover(function () {
			        $("#cbsea, #cbsea-sub, .cover").toggle();
			    });
			})

			$(document).ready(function() {
			    $("#formebottom").hover(function () {
			        $("#cbh, #cbh-sub, .cover").toggle();
			    });
			})						
		</script>
		<!--JSON BY SERIES-->
		<script>
		var url = "colors-by-series.json";

		$.getJSON(url, function (bidule) {

			for (var i in bidule.rows) {
		            // Set the variables from the results array
			    var code = bidule.rows[i].Code;
			    console.log(code); 
			    var thisseries = bidule.rows[i].Series;
			    console.log(thisseries); 

			    var color1 = bidule.rows[i].Couleur1;
			    console.log(color1);    
			    var color2 = bidule.rows[i].Couleur2;
			    console.log(color2);
			    var color3 = bidule.rows[i].Couleur3;
			    console.log(color3);
			    var color4 = bidule.rows[i].Couleur4;
			    console.log(color4);
			    var color5 = bidule.rows[i].Couleur5;
			    console.log(color5);
			    var color6 = bidule.rows[i].Couleur6;
			    console.log(color6);
			    var color7 = bidule.rows[i].Couleur7;
			    console.log(color7);
			    var color8 = bidule.rows[i].Couleur8;
			    console.log(color8);
			    var color9 = bidule.rows[i].Couleur9;
			    console.log(color9);

			    var fond = bidule.rows[i].front_bg;
			    console.log(fond);

			    //create the card
				$('#colorsbyseries').append('<div class="flip-container"><div class="flipper"><div id="'+code+'" class="front"><h1>'+ thisseries + '</h1></div><div class="back"><div id="'+code+'_color1" class="nuancier"><span>'+color1+'</span></div><div id="'+code+'_color2" class="nuancier"><span>'+color2+'</span></div><div id="'+code+'_color3" class="nuancier"><span>'+color3+'</span></div><div id="'+code+'_color4" class="nuancier"><span>'+color4+'</span></div><div id="'+code+'_color5" class="nuancier"><span>'+color5+'</span></div><div id="'+code+'_color6" class="nuancier"><span>'+color6+'</span></div><div id="'+code+'_color7" class="nuancier"><span>'+color7+'</span></div><div id="'+code+'_color8" class="nuancier"><span>'+color8+'</span></div><div id="'+code+'_color9" class="nuancier"><span>'+color9+'</span></div></div></div></div>');
				//style the dynamic par of the card
			    $('#' + code).css('background', 'url('+ fond +') repeat-y top left');
			    $('.front').css('background-size', '100% 100%');
			  
			    $('#' + code + '_color1').css('background-color', color1);
			    $('#' + code + '_color2').css('background-color', color2);
			    $('#' + code + '_color3').css('background-color', color3);
			    $('#' + code + '_color4').css('background-color', color4);
			    $('#' + code + '_color5').css('background-color', color5);
			    $('#' + code + '_color6').css('background-color', color6);
			    $('#' + code + '_color7').css('background-color', color7);
			    $('#' + code + '_color8').css('background-color', color8);
			    $('#' + code + '_color9').css('background-color', color9);
		    }
		});
		</script>

		<!--JSON BY SEASONS-->
		<script>
			var sliceColor = [ ];
			$(document).ready(function() {

				var url="marvelcolors-data-json.txt";
			    var json = new Array();

			    $.getJSON(url,function(data){
					json = data;
			    }).done(function(){  

					sortJsonField();
			    });
			        function sortJsonField(field){
			            function sortJson(a,b){
			                if(field == "sat"){ 
								return a.sat > b.sat ? 1 : -1;
							}
							else if(field == "bri"){ 
								return a.bri > b.bri ? 1 : -1;
							}
							else { 
								return a.hue> b.hue ? 1 : -1;
							}
			            }
			            json.data.sort(sortJson);
			            showJSON();
			        };
			        //shower
			        function showJSON(){
			            $('#output1,#output2,#output3,#output4').empty();
			            $.each(json.data,function(i,row){ 
			                var classe = "";
			                if(row.seasons == "spring") classe = "spring";
			                else if(row.seasons == "summer") classe = "summer";
			                else if(row.seasons == "autumn") classe = "autumn";
			                else if(row.seasons == "winter") classe = "winter";

			                sliceColor[i] = '<li style="background-color:hsl(';
			                sliceColor[i] += row.hue + ',' + row.bri + '%,' + row.sat + '%);" class="slice"></li>';

			                if(classe == "spring") {
			                    $('#output1').append(sliceColor[i]);
			                    $("#output1 .slice").addClass("spring");
			                    $('.spring').css('height', 100/$('.spring').length + "%");
			                }
			                else if(classe == "summer") {
			                    $('#output2').append(sliceColor[i]);
			                     $("#output2 .slice").addClass("summer");
			                    $('.summer').css('height', 100/$('.summer').length + '%');
			                }
			                else if(classe == "autumn") {
			                    $('#output3').append(sliceColor[i]); 
			                    $("#output3 .slice").addClass("autumn");
			                    $('.autumn').css('height', 100/$('.autumn').length + '%');
			                }
			                else if(classe == "winter"){
			                    $('#output4').append(sliceColor[i]); 
			                    $("#output4 .slice").addClass("winter");
			                    $('.winter').css('height', 100/$('.winter').length + '%');
			                }
			            });
			        };
			        showJSON(); 
			});
		</script>


	</body>
</html>